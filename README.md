# Додаток з мікросервісною архітектурою

Ця програма складається з 3х компонентів: field (поле, яке надає дані про стан грунту), server (сервер, який зберігає дані з полей і про користувачів), client (додаток, який має графічну оболонку й приймає дані з сервера)

# Які інструменти потрібні для програми

* mongodb
* python3.10
* pymongo
* urllib3
* flask
* PySide

# Як використовувати цю програму

Спочатку потрібно запустити main.py в директорії server за допомогою наступної команди <python3 --host="hostname" --port="port">. Поітм бажано запустити програму з директорії field, але перед цим записати в settings.json назву поля й пароль (ці дані повинні бути внесені в БД). Після цього внести в термінал команду <python3 main.py>. Тільки після попередніх дій можна запускати прогрму у файлі clent. Далі потрібно внести логін і пароль. Потім можна переходити між віджитами за допомогою кнопок зверху. Завантажити таблиці можна за допомогою кнопки "Load".
  
# Розбір компонентів
  
### Field
  
Даний компонент імітує датчики з поля. Він відправляє серверу рандомні дані щодо стану землі. Працює за допомогою інструмента urllib3, який через протокол HTTP відправляє дані.
  
### Server
  
Сервер зберігає дані й надає їх іншим компонентам. Працює за допомогою фреймворка Flask. Кожен запит спочатку перевіряється на авторизацію через middleware, і тільки потім надається можливість обробити інформацію й відправити дані. Кожна відповідь від сервера має статус і код, за якими можна зрозуміти чи було оброблено дані коректно. Зв'язок з БД відбувається за допомогою інструмента pymongo.
  
### Client
  
Клієнт написан за допомогою мови програмування Python і QML. За допомгою першої відбувається зв'язок зі сервером й обробка QML, а друга формує інтерфейс і дизайн. 
  
### База даних
  
База даних складається з колекцій users і fields. Поля users: name, password, _id. Поля fields: _id, name, password, azot, bal, gumus, kaliy, ph, phosfor, area. Для кожного юзера й поля повинні бути обов'язково внесені назва й пароль. 
